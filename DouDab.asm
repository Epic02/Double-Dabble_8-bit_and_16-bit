ORG 0000H
MOV R0,#0FFH
MOV R1,#00H
MOV R2,#00H
CLR C
MOV R5,#08H
N:MOV A,R0
RLC A
MOV R0,A
JC ONE
MOV R3,#00H
SJMP SKIP
ONE:MOV R3,#01H
SKIP:CLR C
MOV A,R1
RLC A
ORL A,R3
MOV R1,A
JC TWO
MOV R3,#00H
SJMP SKIP1
TWO:MOV R3,#01H
SKIP1:CLR C
MOV A,R2
RLC A
ORL A,R3
MOV R2,A
CLR C
CJNE R5,#01H,NOT_LAST_LOOP
SJMP HERE
NOT_LAST_LOOP:ACALL ADD_3_BCD_1
ACALL ADD_3_BCD_2
ACALL ADD_3_BCD_3
DJNZ R5,N
HERE:SJMP HERE
ADD_3_BCD_1:MOV A,R1
ANL A,#00001111B
JB ACC.3,PLUS1
JNB ACC.2,LEAVE1
JB ACC.1,PLUS1
JB ACC.0,PLUS1
LEAVE1:RET
PLUS1:MOV A,R1
ADD A,#03H
MOV R1,A
RET
ADD_3_BCD_2:MOV A,R1
ANL A,#11110000B
JB ACC.7,PLUS2
JNB ACC.6,LEAVE2
JB ACC.5,PLUS2
JB ACC.4,PLUS2
LEAVE2:RET
PLUS2:ADD A,#00110000B
MOV R6,A
MOV A,R1
ANL A,#00001111B
ORL A,R6
MOV R1,A
RET
ADD_3_BCD_3:MOV A,R2
ANL A,#00001111B
JB ACC.3,PLUS3
JNB ACC.2,LEAVE3
JB ACC.1,PLUS3
JB ACC.0,PLUS3
LEAVE3:RET
PLUS3:MOV A,R2
ADD A,#03H
MOV R2,A
RET
END